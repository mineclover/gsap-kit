<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GSAP Kit - Custom Cursor Demo</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="container">
    <h1>π― Custom Cursor Demo</h1>
    <p class="subtitle">ν™”μ‚΄ν‘ μ¤νƒ€μΌ + μ»¤μ¤ν…€ μ»¤μ„ κΈ°λ¥ ν…μ¤νΈ</p>

    <div class="demo-card">
      <div class="demo-title">Arrow Style with Custom Cursor</div>
      <div class="demo-description">
        ν¬μΈνΈλ¥Ό λ“λκ·Έν•μ—¬ μ—°κ²°ν•  λ• <strong>μ‹μ¤ν… μ»¤μ„κ°€ μ¨κ²¨μ§€κ³ </strong> ν™”μ‚΄ν‘ λ¨μ–‘μ μ»¤μ¤ν…€ μ»¤μ„κ°€ ν‘μ‹λ©λ‹λ‹¤.<br>
        μ—°κ²°λ ν¬μΈνΈλ¥Ό ν΄λ¦­ν•λ©΄ μλ™μΌλ΅ ν•΄μ λκ³  μ‹μ‘μ μ—μ„ λ‹¤μ‹ μ—°κ²°μ„ μ‹μ‘ν•  μ μμµλ‹λ‹¤.
      </div>

      <div class="demo-area" id="demo-custom-cursor">
        <div class="point point-a" data-id="a">A</div>
        <div class="point point-b1" data-id="b1">B1</div>
        <div class="point point-b2" data-id="b2">B2</div>
      </div>

      <div class="instructions">
        <h3>π“ μ‚¬μ© λ°©λ²•</h3>
        <ul>
          <li><span class="highlight">A ν¬μΈνΈ</span>λ¥Ό ν΄λ¦­ν•κ±°λ‚ λ“λκ·Έν•μ—¬ B1 λλ” B2λ΅ μ—°κ²°ν•μ„Έμ”</li>
          <li>λ“λκ·Έ μ¤‘μ—λ” <strong>μ‹μ¤ν… μ»¤μ„κ°€ μλ™μΌλ΅ μ¨κ²¨μ§€κ³ </strong> ν™”μ‚΄ν‘ μ»¤μ„κ°€ ν‘μ‹λ©λ‹λ‹¤</li>
          <li>μ—°κ²°μ΄ μ™„λ£λλ©΄ μ‹μ¤ν… μ»¤μ„κ°€ λ‹¤μ‹ λ‚νƒ€λ‚©λ‹λ‹¤</li>
          <li>μ—°κ²°λ ν¬μΈνΈ(B1 λλ” B2)λ¥Ό ν΄λ¦­ν•λ©΄ μ—°κ²°μ΄ ν•΄μ λκ³  Aμ—μ„ μ¬μ‹μ‘λ©λ‹λ‹¤</li>
          <li>λ°°κ²½μ„ ν΄λ¦­ν•λ©΄ μ„ νƒμ΄ μ·¨μ†λ©λ‹λ‹¤</li>
        </ul>

        <div class="status-badge">β… hideCursor: true (μ‹μ¤ν… μ»¤μ„ μ¨κΉ€ ν™μ„±ν™”)</div>
      </div>

      <div class="toggle-section">
        <h3>π”§ μµμ… ν…μ¤νΈ</h3>
        <p style="margin-bottom: 15px; color: #666;">
          ν„μ¬ <strong>hideCursor</strong> μµμ…μ΄ ν™μ„±ν™”λμ–΄ μμµλ‹λ‹¤.
          μ•„λ λ²„νΌμ„ ν΄λ¦­ν•μ—¬ λΉ„ν™μ„±ν™”ν•κ³  μ‹μ¤ν… μ»¤μ„μ™€ μ»¤μ¤ν…€ μ»¤μ„κ°€ ν•¨κ» ν‘μ‹λλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
        </p>
        <button class="toggle-button" onclick="toggleCursorMode()">
          hideCursor λ¨λ“ μ „ν™
        </button>
        <p id="mode-status" style="margin-top: 10px; font-weight: bold; color: #667eea;"></p>
      </div>

      <div class="toggle-section" style="margin-top: 20px; background: rgba(255, 193, 7, 0.1); border: 2px solid rgba(255, 193, 7, 0.3);">
        <h3>π› λ“λκ·Έ μƒνƒ λ””λ²„κ·Έ</h3>
        <p style="margin-bottom: 15px; color: #666;">
          λ“λκ·Έ μ¤‘μΈ μ„ μ΄ λ„λ¬΄ λΉ¨λ¦¬ μ‚¬λΌμ Έμ„ ν™•μΈν•κΈ° μ–΄λ ¤μ°μ‹ κ°€μ”?<br>
          μ•„λ λ²„νΌμ„ ν΄λ¦­ν•λ©΄ λ“λκ·Έ μ¤‘μΈ μƒνƒλ¥Ό <strong>κ³ μ •</strong>μ‹μΌμ„ μ²μ²ν ν™•μΈν•  μ μμµλ‹λ‹¤.
        </p>
        <button class="toggle-button" style="background: #FFC107; margin-right: 10px;" onclick="freezeDragState()">
          λ“λκ·Έ μƒνƒ κ³ μ • (A β†’ B1)
        </button>
        <button class="toggle-button" style="background: #F44336;" onclick="unfreezeDragState()">
          κ³ μ • ν•΄μ 
        </button>
        <p id="debug-status" style="margin-top: 10px; font-weight: bold; color: #FFC107;"></p>
      </div>

      <div class="toggle-section" style="margin-top: 20px; background: rgba(63, 81, 181, 0.1); border: 2px solid rgba(63, 81, 181, 0.3);">
        <h3 style="margin-bottom: 10px;">π¨ Marker-End νλΌλ―Έν„° μ΅°μ •</h3>
        <p style="margin-bottom: 15px; color: #666; font-size: 0.9rem;">
          μ„μ λ°λ¨ μμ—­μ—μ„ "λ“λκ·Έ μƒνƒ κ³ μ •" λ²„νΌμ„ λ¨Όμ € ν΄λ¦­ν• ν›„, μ•„λ νλΌλ―Έν„°λ¥Ό μ΅°μ •ν•μ„Έμ”.
        </p>

        <div class="param-layout">
          <!-- μ™Όμ½: μ»¨νΈλ΅¤ -->
          <div class="param-controls-compact">
            <div class="param-control-compact">
              <label for="refX">refX</label>
              <input type="range" id="refX" min="0" max="30" value="12" step="0.5" oninput="updateMarkerParams()">
              <span id="refXValue">12</span>
            </div>

            <div class="param-control-compact">
              <label for="refY">refY</label>
              <input type="range" id="refY" min="0" max="30" value="7.5" step="0.5" oninput="updateMarkerParams()">
              <span id="refYValue">7.5</span>
            </div>

            <div class="param-control-compact">
              <label for="lineWidth">Line W</label>
              <input type="range" id="lineWidth" min="1" max="10" value="3" step="0.5" oninput="updateMarkerParams()">
              <span id="lineWidthValue">3</span>
            </div>

            <div class="param-control-compact">
              <label for="markerScale">Scale</label>
              <input type="range" id="markerScale" min="0.3" max="3" value="1" step="0.1" oninput="updateMarkerParams()">
              <span id="markerScaleValue">1</span>
            </div>

            <div class="param-control-compact">
              <label for="markerColor">Color</label>
              <input type="color" id="markerColor" value="#667eea" oninput="updateMarkerParams()">
              <span id="markerColorValue" style="font-size: 0.65rem; overflow: hidden; text-overflow: ellipsis;">#667eea</span>
            </div>

            <div class="param-control-compact" style="grid-column: 1 / -1;">
              <label for="polygonShape">Shape</label>
              <select id="polygonShape" onchange="updateMarkerParams()">
                <option value="polygon:0,0 0,15 15,7.5">μ‚Όκ°ν• (β–¶)</option>
                <option value="circle:7.5">μ›ν• (β—)</option>
                <option value="circle-stroke:7.5">λΉ μ›ν• (β—‹)</option>
                <option value="chevron:7.5">μ—΄λ¦° μ‚Όκ°ν• (β³)</option>
              </select>
            </div>

            <div class="param-control-compact" style="grid-column: 1 / -1; display: flex; align-items: center; gap: 10px;">
              <input type="checkbox" id="markerUnits" onchange="updateMarkerParams()" style="width: auto;">
              <label for="markerUnits" style="font-size: 0.8rem; margin: 0;">markerUnits="strokeWidth" (μ„  κµµκΈ°μ— λΉ„λ΅€)</label>
            </div>
          </div>

          <!-- μ½”λ“ & λ λ”λ§ -->
          <div class="param-code-box">
            <!-- μ™Όμ½: μ‹¤μ‹κ°„ λ λ”λ§ -->
            <div class="param-render-section">
              <h4 style="margin-bottom: 8px; color: #3f51b5; font-size: 0.95rem;">μ‹¤μ‹κ°„ λ λ”λ§:</h4>
              <div id="svgPreview" style="background: white; border: 2px solid #e0e0e0; border-radius: 4px; padding: 20px; height: 120px; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative;">
                <!-- SVG λ λ”λ§ μμ—­ -->
              </div>
            </div>

            <!-- μ¤λ¥Έμ½: SVG μ½”λ“ -->
            <div class="param-code-section">
              <h4 style="margin-bottom: 8px; color: #3f51b5; font-size: 0.95rem;">SVG μ½”λ“:</h4>
              <pre id="paramCode" style="background: #f5f5f5; padding: 8px; border-radius: 4px; overflow-x: auto; font-size: 0.75rem; margin: 0; line-height: 1.4; flex: 1;"></pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Line Shape Preview Section -->
    <div class="demo-card">
      <div class="demo-title">π“ λ“λκ·Έ μ„  ν•νƒ ν”„λ¦¬λ·°</div>
      <div class="demo-description">
        λ“λκ·Έ μ¤‘μ— μ‹¤μ λ΅ ν‘μ‹λλ” ν™”μ‚΄ν‘ μ„ μ λ¨μ–‘μ„ λ‹¤μ–‘ν• κ°λ„μ™€ κΈΈμ΄λ΅ λ―Έλ¦¬ ν™•μΈν•  μ μμµλ‹λ‹¤.
      </div>

      <div class="line-preview-grid">
        <!-- μ§§μ€ μ„  -->
        <div class="line-preview-item">
          <div class="line-preview-label">μ§§μ€ κ±°λ¦¬ (50px)</div>
          <svg class="line-preview-svg" width="150" height="80" viewBox="0 0 150 80">
            <defs>
              <marker id="arrow-short" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="30" y1="40" x2="80" y2="40" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-short)" />
            <circle cx="30" cy="40" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- μ¤‘κ°„ μ„  -->
        <div class="line-preview-item">
          <div class="line-preview-label">μ¤‘κ°„ κ±°λ¦¬ (100px)</div>
          <svg class="line-preview-svg" width="150" height="80" viewBox="0 0 150 80">
            <defs>
              <marker id="arrow-medium" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="20" y1="40" x2="120" y2="40" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-medium)" />
            <circle cx="20" cy="40" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- κΈ΄ μ„  -->
        <div class="line-preview-item">
          <div class="line-preview-label">κΈ΄ κ±°λ¦¬ (150px)</div>
          <svg class="line-preview-svg" width="180" height="80" viewBox="0 0 180 80">
            <defs>
              <marker id="arrow-long" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="15" y1="40" x2="165" y2="40" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-long)" />
            <circle cx="15" cy="40" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- μ„λ΅ -->
        <div class="line-preview-item">
          <div class="line-preview-label">μ„ λ°©ν–¥ (β†‘)</div>
          <svg class="line-preview-svg" width="150" height="120" viewBox="0 0 150 120">
            <defs>
              <marker id="arrow-up" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="75" y1="100" x2="75" y2="20" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-up)" />
            <circle cx="75" cy="100" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- μ•„λλ΅ -->
        <div class="line-preview-item">
          <div class="line-preview-label">μ•„λ λ°©ν–¥ (β†“)</div>
          <svg class="line-preview-svg" width="150" height="120" viewBox="0 0 150 120">
            <defs>
              <marker id="arrow-down" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="75" y1="20" x2="75" y2="100" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-down)" />
            <circle cx="75" cy="20" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- λ€κ°μ„  μ°μƒ -->
        <div class="line-preview-item">
          <div class="line-preview-label">λ€κ°μ„  μ°μƒ (β†—)</div>
          <svg class="line-preview-svg" width="150" height="120" viewBox="0 0 150 120">
            <defs>
              <marker id="arrow-diagonal1" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="30" y1="90" x2="120" y2="30" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-diagonal1)" />
            <circle cx="30" cy="90" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- λ€κ°μ„  μ°ν• -->
        <div class="line-preview-item">
          <div class="line-preview-label">λ€κ°μ„  μ°ν• (β†)</div>
          <svg class="line-preview-svg" width="150" height="120" viewBox="0 0 150 120">
            <defs>
              <marker id="arrow-diagonal2" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="30" y1="30" x2="120" y2="90" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-diagonal2)" />
            <circle cx="30" cy="30" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- λ€κ°μ„  μΆμƒ -->
        <div class="line-preview-item">
          <div class="line-preview-label">λ€κ°μ„  μΆμƒ (β†–)</div>
          <svg class="line-preview-svg" width="150" height="120" viewBox="0 0 150 120">
            <defs>
              <marker id="arrow-diagonal3" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#667eea" />
              </marker>
            </defs>
            <line x1="120" y1="90" x2="30" y2="30" stroke="#667eea" stroke-width="3" marker-end="url(#arrow-diagonal3)" />
            <circle cx="120" cy="90" r="4" fill="#FFD700" />
          </svg>
        </div>

        <!-- μ—°κ²° μ™„λ£ -->
        <div class="line-preview-item">
          <div class="line-preview-label">μ—°κ²° μ™„λ£ (μ •λ‹µ)</div>
          <svg class="line-preview-svg" width="150" height="80" viewBox="0 0 150 80">
            <defs>
              <marker id="arrow-correct" markerWidth="15" markerHeight="15" refX="12" refY="7.5" orient="auto">
                <polygon points="0,0 0,15 15,7.5" fill="#4CAF50" />
              </marker>
            </defs>
            <line x1="20" y1="40" x2="130" y2="40" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrow-correct)" />
            <circle cx="20" cy="40" r="4" fill="#667eea" />
            <circle cx="130" cy="40" r="4" fill="#667eea" />
          </svg>
        </div>
      </div>
    </div>

    <!-- Arrow Style Preview Section -->
    <div class="demo-card">
      <div class="demo-title">π“‹ μΈν„°λ™μ… λ‹¨κ³„λ³„ μ¤νƒ€μΌ ν”„λ¦¬λ·°</div>
      <div class="demo-description">
        κ° μΈν„°λ™μ… λ‹¨κ³„λ³„λ΅ ν¬μΈνΈμ™€ ν™”μ‚΄ν‘ μ»¤μ„μ μ¤νƒ€μΌμ΄ μ–΄λ–»κ² λ³€ν•λ”μ§€ ν™•μΈν•  μ μμµλ‹λ‹¤.
      </div>

      <div class="preview-grid">
        <!-- 1. Idle State -->
        <div class="preview-item">
          <div class="preview-label">1οΈβƒ£ Idle (κΈ°λ³Έ μƒνƒ)</div>
          <div class="preview-visual">
            <div class="preview-point" style="background: #667eea;">A</div>
            <span class="preview-desc">κΈ°λ³Έ ν¬μΈνΈ</span>
          </div>
        </div>

        <!-- 2. Hover State -->
        <div class="preview-item">
          <div class="preview-label">2οΈβƒ£ Hover (νΈλ²„ μƒνƒ)</div>
          <div class="preview-visual">
            <div class="preview-point preview-point-hover" style="background: #764ba2; transform: scale(1.2);">A</div>
            <span class="preview-desc">λ§μ°μ¤ μ¤λ²„ μ‹</span>
          </div>
        </div>

        <!-- 3. Selected State -->
        <div class="preview-item">
          <div class="preview-label">3οΈβƒ£ Selected (μ„ νƒλ¨)</div>
          <div class="preview-visual">
            <div class="preview-point preview-point-selected" style="background: #FFD700; transform: scale(1.3); box-shadow: 0 0 15px rgba(255, 215, 0, 0.8);">A</div>
            <span class="preview-desc">ν΄λ¦­/λ“λκ·Έ μ‹μ‘</span>
          </div>
        </div>

        <!-- 4. Dragging State -->
        <div class="preview-item">
          <div class="preview-label">4οΈβƒ£ Dragging (λ“λκ·Έ μ¤‘)</div>
          <div class="preview-visual">
            <svg width="30" height="30" class="preview-arrow">
              <polygon
                points="15,18 7.5,12 22.5,12"
                fill="#667eea"
                style="filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));"
              />
            </svg>
            <span class="preview-desc">ν™”μ‚΄ν‘ μ»¤μ„ ν‘μ‹</span>
          </div>
        </div>

        <!-- 5. Target Hint State -->
        <div class="preview-item">
          <div class="preview-label">5οΈβƒ£ Target Hint (μ—°κ²° λ€μƒ)</div>
          <div class="preview-visual">
            <div class="preview-point" style="background: #667eea; box-shadow: 0 0 20px rgba(102, 126, 234, 0.8);">B</div>
            <span class="preview-desc">μ—°κ²° κ°€λ¥ ννΈ</span>
          </div>
        </div>

        <!-- 6. Connected State -->
        <div class="preview-item">
          <div class="preview-label">6οΈβƒ£ Connected (μ—°κ²° μ™„λ£)</div>
          <div class="preview-visual">
            <div style="position: relative; display: flex; align-items: center; gap: 40px;">
              <div class="preview-point" style="background: #667eea;">A</div>
              <svg width="40" height="4" style="position: absolute; left: 30px;">
                <line x1="0" y1="2" x2="30" y2="2" stroke="#4CAF50" stroke-width="3" />
                <polygon points="30,2 26,0 26,4" fill="#4CAF50" />
              </svg>
              <div class="preview-point" style="background: #667eea;">B</div>
            </div>
            <span class="preview-desc">μ •λ‹µ μ—°κ²°</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- GSAP & Draggable -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13/dist/Draggable.min.js"></script>

  <!-- Main Script -->
  <script src="./main.js"></script>
</body>
</html>
