<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Line Matching Example - GSAP Kit</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <h1>Line Matching Example</h1>
      <p>ì„ ì„ ì—°ê²°í•˜ì—¬ ê³¼ì¼ê³¼ ì˜ì–´ ì´ë¦„ì„ ë§¤ì¹­í•˜ì„¸ìš”</p>
    </header>

    <div class="game-area">
      <div class="group group-a">
        <div class="item" id="fruit-1" data-match-id="a1">
          <span class="emoji">ğŸ</span>
          <span class="label">ì‚¬ê³¼</span>
        </div>
        <div class="item" id="fruit-2" data-match-id="a2">
          <span class="emoji">ğŸŒ</span>
          <span class="label">ë°”ë‚˜ë‚˜</span>
        </div>
        <div class="item" id="fruit-3" data-match-id="a3">
          <span class="emoji">ğŸŠ</span>
          <span class="label">ì˜¤ë Œì§€</span>
        </div>
      </div>

      <div class="group group-b">
        <div class="item" id="english-1" data-match-id="b1">
          <span class="label">Apple</span>
        </div>
        <div class="item" id="english-2" data-match-id="b2">
          <span class="label">Orange</span>
        </div>
        <div class="item" id="english-3" data-match-id="b3">
          <span class="label">Banana</span>
        </div>
      </div>
    </div>

    <div class="status">
      <div class="stat">
        <span class="stat-label">ì •ë‹µ:</span>
        <span class="stat-value" id="correctCount">0</span>
      </div>
      <div class="stat">
        <span class="stat-label">ì˜¤ë‹µ:</span>
        <span class="stat-value" id="incorrectCount">0</span>
      </div>
    </div>
  </div>

  <!-- GSAP CDN -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13/dist/gsap.min.js"></script>

  <!-- GSAP Kit Library (Playwright runnerì—ì„œ ì£¼ì…ë¨) -->

  <script>
    // Test State (for Playwright assertions)
    window.testState = {
      correctCount: 0,
      incorrectCount: 0,
      completed: false,
    };

    // Initialize Line Matching (window.createLineMatching ë¡œë“œ ëŒ€ê¸°)
    window.addEventListener('load', function() {
      if (!window.createLineMatching) {
        console.error('createLineMatching not loaded!');
        return;
      }

      const matching = window.createLineMatching({
      items: {
        a1: { selector: '#fruit-1', point: { x: 'right', y: 'center' } },
        a2: { selector: '#fruit-2', point: { x: 'right', y: 'center' } },
        a3: { selector: '#fruit-3', point: { x: 'right', y: 'center' } },
        b1: { selector: '#english-1', point: { x: 'left', y: 'center' } },
        b2: { selector: '#english-2', point: { x: 'left', y: 'center' } },
        b3: { selector: '#english-3', point: { x: 'left', y: 'center' } },
      },
      pairs: {
        a1: 'b1', // ì‚¬ê³¼ - Apple
        a2: 'b3', // ë°”ë‚˜ë‚˜ - Banana
        a3: 'b2', // ì˜¤ë Œì§€ - Orange
      },
      lineWidth: 3,
      correctColor: '#4CAF50',
      incorrectColor: '#F44336',
      lineStyle: 'arrow',
      allowMultipleAttempts: true,
      showFeedback: true,
      onCorrect: (fromId, toId) => {
        window.testState.correctCount++;
        document.getElementById('correctCount').textContent = window.testState.correctCount;
        console.log(`âœ… Correct: ${fromId} â†’ ${toId}`);
      },
      onIncorrect: (fromId, toId) => {
        window.testState.incorrectCount++;
        document.getElementById('incorrectCount').textContent = window.testState.incorrectCount;
        console.log(`âŒ Incorrect: ${fromId} â†’ ${toId}`);
      },
      onComplete: (score, total) => {
        window.testState.completed = true;
        console.log(`ğŸ‰ Complete! Score: ${score}/${total}`);
      },
    });

      console.log('âœ“ Line Matching initialized');
      console.log('âœ“ Test state available at window.testState');
    });
  </script>
</body>
</html>
