<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GSAP Kit - Line Matching Stroke Styles Preview</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      text-align: center;
      color: white;
      font-size: 2.5rem;
      margin-bottom: 20px;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }

    .subtitle {
      text-align: center;
      color: rgba(255, 255, 255, 0.9);
      font-size: 1.2rem;
      margin-bottom: 40px;
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin-bottom: 40px;
    }

    .demo-card {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      transition: box-shadow 0.3s ease, border-color 0.3s ease;
      border: 2px solid transparent;
    }

    .demo-card:hover {
      box-shadow: 0 15px 40px rgba(102, 126, 234, 0.4);
      border-color: rgba(102, 126, 234, 0.3);
    }

    .demo-title {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 10px;
      color: #667eea;
      text-align: center;
    }

    .demo-description {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 20px;
      text-align: center;
    }

    .demo-area {
      position: relative;
      height: 200px;
      background: #f8f9fa;
      border-radius: 10px;
      margin-bottom: 15px;
      overflow: visible; /* SVG가 잘리지 않도록 */
    }

    .point {
      position: absolute;
      width: 80px;
      height: 80px;
      background: white;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #667eea;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .point-left {
      top: 50%;
      left: 20px;
      transform: translateY(-50%);
    }

    .point-right {
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
    }

    .code-block {
      background: #2d3748;
      color: #e2e8f0;
      padding: 15px;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 0.85rem;
      overflow-x: auto;
    }

    .code-block code {
      display: block;
      white-space: pre;
    }

    .highlight {
      color: #ffd700;
    }

    .instructions {
      background: white;
      border-radius: 15px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      margin-top: 30px;
    }

    .instructions h2 {
      color: #667eea;
      margin-bottom: 15px;
    }

    .instructions ul {
      list-style-position: inside;
      color: #666;
      line-height: 1.8;
    }

    .instructions li {
      margin-bottom: 10px;
    }

    .note {
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      padding: 15px;
      margin-top: 20px;
      border-radius: 5px;
      color: #856404;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
        opacity: 1;
      }
      50% {
        transform: scale(1.2);
        opacity: 0.8;
      }
    }

    .line-matching-hint {
      animation: pulse 1s infinite;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>🎨 Line Matching - Stroke Styles Preview</h1>
    <p class="subtitle">다양한 선 스타일 옵션을 확인하세요</p>

    <div class="demo-grid">
      <!-- Solid Style -->
      <div class="demo-card">
        <div class="demo-title">Solid (실선)</div>
        <div class="demo-description">기본 실선 스타일</div>
        <div class="demo-area" id="demo-solid">
          <div class="point point-left" data-id="s-a1">A1</div>
          <div class="point point-right" data-id="s-b1">B1</div>
        </div>
        <div class="code-block">
<code>createLineMatching({
  // ...
  <span class="highlight">lineWidth: 2,
  lineStyle: 'solid'</span>
});</code>
        </div>
      </div>

      <!-- Dashed Style -->
      <div class="demo-card">
        <div class="demo-title">Dashed (점선)</div>
        <div class="demo-description">점선 스타일 (커스텀 패턴 가능)</div>
        <div class="demo-area" id="demo-dashed">
          <div class="point point-left" data-id="d-a1">A1</div>
          <div class="point point-right" data-id="d-b1">B1</div>
        </div>
        <div class="code-block">
<code>createLineMatching({
  // ...
  <span class="highlight">lineWidth: 2,
  lineStyle: 'dashed'
  // dashArray 자동: '6,4'</span>
});</code>
        </div>
      </div>

      <!-- Dotted Style -->
      <div class="demo-card">
        <div class="demo-title">Dotted (점)</div>
        <div class="demo-description">점 스타일</div>
        <div class="demo-area" id="demo-dotted">
          <div class="point point-left" data-id="dt-a1">A1</div>
          <div class="point point-right" data-id="dt-b1">B1</div>
        </div>
        <div class="code-block">
<code>createLineMatching({
  // ...
  <span class="highlight">lineWidth: 2,
  lineStyle: 'dotted'</span>
});</code>
        </div>
      </div>

      <!-- Animated Dash Style -->
      <div class="demo-card">
        <div class="demo-title">Animated Dash (애니메이션 점선)</div>
        <div class="demo-description">움직이는 점선 효과</div>
        <div class="demo-area" id="demo-animated">
          <div class="point point-left" data-id="ad-a1">A1</div>
          <div class="point point-right" data-id="ad-b1">B1</div>
        </div>
        <div class="code-block">
<code>createLineMatching({
  // ...
  <span class="highlight">lineWidth: 2,
  lineStyle: 'animated-dash'
  // dashArray 자동: '6,4'</span>
});</code>
        </div>
      </div>

      <!-- Arrow Style -->
      <div class="demo-card">
        <div class="demo-title">Arrow (화살표)</div>
        <div class="demo-description">화살표가 있는 실선 + 커스텀 커서</div>
        <div class="demo-area" id="demo-arrow">
          <div class="point point-left" data-id="ar-a1">A1</div>
          <div class="point point-right" data-id="ar-b1">B1</div>
        </div>
        <div class="code-block">
<code>createLineMatching({
  // ...
  <span class="highlight">lineWidth: 2,
  lineStyle: 'arrow',
  hideCursor: true
  // arrowSize 자동: 10</span>
});</code>
        </div>
      </div>
    </div>

    <div class="instructions">
      <h2>📚 사용 방법</h2>
      <ul>
        <li><strong>lineWidth</strong>: 선 두께 (기본값: 2)</li>
        <li><strong>lineStyle</strong>: 선 스타일 타입 ('solid' | 'dashed' | 'dotted' | 'animated-dash' | 'arrow')</li>
        <li><strong>dashArray</strong>: 점선 패턴 (생략 시 자동: lineWidth * 3, lineWidth * 2)</li>
        <li><strong>arrowSize</strong>: 화살표 크기 (생략 시 자동: lineWidth * 5)</li>
        <li><strong>hideCursor</strong>: 드래그 중 시스템 커서 숨김 여부 (기본값: true, arrow 스타일에서만 적용)</li>
      </ul>

      <div class="note">
        <strong>💡 자동 연동:</strong> dashArray와 arrowSize를 생략하면 lineWidth에 비례하여 자동으로 계산됩니다!<br>
        각 스타일은 lineColor, correctColor, incorrectColor와 함께 사용할 수 있습니다.<br>
        <strong>🎯 커스텀 커서:</strong> arrow 스타일에서는 드래그 시 화살표 모양의 커스텀 커서가 활성화됩니다. hideCursor 옵션으로 시스템 커서 숨김 여부를 제어할 수 있습니다.
      </div>
    </div>
  </div>

  <!-- GSAP & Draggable -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13/dist/gsap.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.13/dist/Draggable.min.js"></script>

  <!-- GSAP Kit Modules -->
  <script src="../dist/types.js"></script>
  <script src="../dist/advanced/line-matching.js"></script>

  <script>
    // Solid 스타일 데모
    const solidDemo = createLineMatching({
      container: '#demo-solid',
      items: {
        's-a1': { selector: '[data-id="s-a1"]', point: { x: 'right', y: 'center' } },
        's-b1': { selector: '[data-id="s-b1"]', point: { x: 'left', y: 'center' } }
      },
      pairs: { 's-a1': 's-b1' },
      lineStyle: 'solid',
      lineWidth: 2,
      lineColor: '#667eea',
      correctColor: '#4CAF50',
      allowMultipleAttempts: false,
      showFeedback: false
    });

    // Dashed 스타일 데모 (dashArray 자동 계산: lineWidth * 3, lineWidth * 2)
    const dashedDemo = createLineMatching({
      container: '#demo-dashed',
      items: {
        'd-a1': { selector: '[data-id="d-a1"]', point: { x: 'right', y: 'center' } },
        'd-b1': { selector: '[data-id="d-b1"]', point: { x: 'left', y: 'center' } }
      },
      pairs: { 'd-a1': 'd-b1' },
      lineStyle: 'dashed',
      lineWidth: 2,
      // dashArray 생략 시 자동으로 "6,4" (lineWidth * 3, lineWidth * 2)
      lineColor: '#667eea',
      correctColor: '#4CAF50',
      allowMultipleAttempts: false,
      showFeedback: false
    });

    // Dotted 스타일 데모
    const dottedDemo = createLineMatching({
      container: '#demo-dotted',
      items: {
        'dt-a1': { selector: '[data-id="dt-a1"]', point: { x: 'right', y: 'center' } },
        'dt-b1': { selector: '[data-id="dt-b1"]', point: { x: 'left', y: 'center' } }
      },
      pairs: { 'dt-a1': 'dt-b1' },
      lineStyle: 'dotted',
      lineWidth: 2,
      lineColor: '#667eea',
      correctColor: '#4CAF50',
      allowMultipleAttempts: false,
      showFeedback: false
    });

    // Animated Dash 스타일 데모
    const animatedDemo = createLineMatching({
      container: '#demo-animated',
      items: {
        'ad-a1': { selector: '[data-id="ad-a1"]', point: { x: 'right', y: 'center' } },
        'ad-b1': { selector: '[data-id="ad-b1"]', point: { x: 'left', y: 'center' } }
      },
      pairs: { 'ad-a1': 'ad-b1' },
      lineStyle: 'animated-dash',
      lineWidth: 2,
      // dashArray 생략 시 자동으로 "6,4"
      lineColor: '#667eea',
      correctColor: '#4CAF50',
      allowMultipleAttempts: false,
      showFeedback: false
    });

    // Arrow 스타일 데모 (arrowSize 자동 계산: lineWidth * 5, 커스텀 커서 활성화)
    const arrowDemo = createLineMatching({
      container: '#demo-arrow',
      items: {
        'ar-a1': { selector: '[data-id="ar-a1"]', point: { x: 'right', y: 'center' } },
        'ar-b1': { selector: '[data-id="ar-b1"]', point: { x: 'left', y: 'center' } }
      },
      pairs: { 'ar-a1': 'ar-b1' },
      lineStyle: 'arrow',
      lineWidth: 2,
      hideCursor: true, // 드래그 중 시스템 커서 숨김 (커스텀 화살표 커서만 표시)
      // arrowSize 생략 시 자동으로 10 (lineWidth * 5)
      lineColor: '#667eea',
      correctColor: '#4CAF50',
      allowMultipleAttempts: false,
      showFeedback: false
    });

    console.log('🎨 Stroke Preview 데모 로드 완료!');
    console.log('각 카드의 포인트를 연결하여 다양한 선 스타일을 확인해보세요.');
  </script>
</body>
</html>
